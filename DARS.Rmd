---
title: "DARS analysis"
output: html_notebook
---

```{r}
#install.packages("readr")
```


```{r setup}

#load libraries
library(readr)

#bring in data
df <- read_csv("CURAGE_DATA_2019-07-11_1042.csv")

```



```{r dataMunging}

#delete all test data (turn off when fake records have been removed from database)
df[,]=matrix(ncol=ncol(df), rep(NA, prod(dim(df))))

#initialize our dataframe
df[nrow(df)+18,] <- NA #for now, just 20 participants to play with

#make fake subject IDs
df$record_id <- seq(1, 20, by=1) #generating sequence of numbers from 1 to 20
df$record_id <- sprintf("%02d", df$record_id) #padding all values under record_id column to 2 digits
df$record_id <- paste("curage_", df$record_id, sep = "", collapse = NULL) #concatenate "curage_id" with existing 2 didgit record id's 1 - 20

#set a "seed", so we can replicate our random selections
set.seed(123)

#make a list of hobbies people might have
hobbies <- c('Concerts',
'Museums',
'Theater',
'Dance shows',
'Comedy clubs',
'Listen to music',
'Gym workout',
'Science research',
'Spinning',
'Biking',
'Martial arts',
'Running',
'Swimming',
'Yoga',
'Meditation',
'Gardening',
'Yard work',
'House repair',
'Cleaning')

#first, for each participant (row), give us a random number, between 2 and the max number of hobbies columns (here, 10) 
selections <- sample(2:10, nrow(df), replace=T)

#write a function to make the vectors of hobbies
hobby_fn <- function(hobbies, selections, index){ #takes 3 arguments
  selected <- sample(hobbies, size=selections[index]) #selects the same number of hobbies as the value, per index
  selected_length <- length(selected) #stores the length of each selection
  vec <- c(selected, rep(NA, (ncol(df)-1)-selected_length)) #creates a vector of the hobbies and the rest NA 
  return(vec) #print the vector
}

#now, run the function, in a loop, to add vectors to df
record_id <- 1:nrow(df) #first, make a vector of the number of participants/rows in the df
for (par in record_id) { #for each participant in our list of participants...
  vec <- hobby_fn(hobbies, selections, par) #...run the function...
  df[par, 4:13] <- vec #...add output to the df; note, index will change if database structure changes
}







foods <- c('Butter chicken',
  'Dumplings',
  'Chicken noodle soup',
  'Lasagna', 
  'Bagels', 
  'Brownies', 
  'Butter chicken', 
  'Dumplings', 
  'Chicken noodle soup', 
  'Lasagna', 
  'NY strip steak', 
  'Perogies', 
  'Sushi', 
  'Bubble tea', 
  'Coffee', 
  'Gatorade', 
  'Fruit smoothies', 
  'Margaritas', 
  'Red wine', 
  'Coca-cola', 
  'Chocolate milk', 
  'Orange juice')

social <-c('Play in band',
'Act in play', 
'Going dancing',
'Going to concerts',
'House party',
'Going to plays',
'Dance classes',
'Art exhibits',
'Meet new people',
'Bowling',
'Cards',
'Chess',
'Shopping',
'Playing pool',
'Cottage trips',
'Camping',
'Karaoke',
'Play with grandkids',
'Biking',
'Going to gym')

sensory <-c('Bread', 
'Nature', 
'Home cooked food', 
'Partners fragrance', 
'Candles', 
'Sea', 
'Coffee', 
'Flowers', 
'Hawaiian pizza', 
'Massage', 
'Sex', 
'Feel sun on skin', 
'Cuddling', 
'Back scratch', 
'Petting dog', 
'Hot bath', 
'Hugs', 
'Listening to music', 
'Comedy podcasts')


df$dars_hobbies_ratings_01 <-sample(x = 1:5, size = 20, replace = TRUE)#randomly inputting numbers from likert scale (wherein 1 = "not at all" and 5 = "always") into "dars_hobbies_ratings_01"
df$dars_hobbies_ratings_02 <-sample(x = 1:5, size = 20, replace = TRUE)#randomly inputting numbers from likert scale (wherein 1 = "not at all" and 5 = "always") into "dars_hobbies_ratings_02"
df$dars_hobbies_ratings_03 <-sample(x = 1:5, size = 20, replace = TRUE)#randomly inputting numbers from likert scale (wherein 1 = "not at all" and 5 = "always") into "dars_hobbies_ratings_03"
df$dars_hobbies_ratings_04 <-sample(x = 1:5, size = 20, replace = TRUE)#randomly inputting numbers from likert scale (wherein 1 = "not at all" and 5 = "always") into "dars_hobbies_ratings_04"

df$dars_foods_ratings_01 <-sample(x = 1:5, size = 20, replace = TRUE)#randomly inputting numbers from likert scale (wherein 1 = "not at all" and 5 = "always") into "dars_foods_ratings_01"
df$dars_foods_ratings_02 <-sample(x = 1:5, size = 20, replace = TRUE)#randomly inputting numbers from likert scale (wherein 1 = "not at all" and 5 = "always") into "dars_foods_ratings_02"
df$dars_foods_ratings_03 <-sample(x = 1:5, size = 20, replace = TRUE)#randomly inputting numbers from likert scale (wherein 1 = "not at all" and 5 = "always") into "dars_foods_ratings_03"
df$dars_foods_ratings_04 <-sample(x = 1:5, size = 20, replace = TRUE)#randomly inputting numbers from likert scale (wherein 1 = "not at all" and 5 = "always") into "dars_foods_ratings_04"

df$dars_social_ratings_01 <-sample(x = 1:5, size = 20, replace = TRUE)#randomly inputting numbers from likert scale (wherein 1 = "not at all" and 5 = "always") into "dars_social_ratings_01"
df$dars_social_ratings_02 <-sample(x = 1:5, size = 20, replace = TRUE)#randomly inputting numbers from likert scale (wherein 1 = "not at all" and 5 = "always") into "dars_social_ratings_02"
df$dars_social_ratings_03 <-sample(x = 1:5, size = 20, replace = TRUE)#randomly inputting numbers from likert scale (wherein 1 = "not at all" and 5 = "always") into "dars_social_ratings_03"
df$dars_social_ratings_04 <-sample(x = 1:5, size = 20, replace = TRUE)#randomly inputting numbers from likert scale (wherein 1 = "not at all" and 5 = "always") into "dars_social_ratings_04"

df$dars_sensory_ratings_01 <-sample(x = 1:5, size = 20, replace = TRUE)#randomly inputting numbers from likert scale (wherein 1 = "not at all" and 5 = "always") into "dars_sensory_ratings_01"
df$dars_sensory_ratings_02 <-sample(x = 1:5, size = 20, replace = TRUE)#randomly inputting numbers from likert scale (wherein 1 = "not at all" and 5 = "always") into "dars_sensory_ratings_02"
df$dars_sensory_ratings_03 <-sample(x = 1:5, size = 20, replace = TRUE)#randomly inputting numbers from likert scale (wherein 1 = "not at all" and 5 = "always") into "dars_sensory_ratings_03"
df$dars_sensory_ratings_04 <-sample(x = 1:5, size = 20, replace = TRUE)#randomly inputting numbers from likert scale (wherein 1 = "not at all" and 5 = "always") into "dars_sensory_ratings_04"


```


```{r}

#set a "seed", so we can replicate our random selections
set.seed(123)


```


```{r dataCleaning}

#see if there's any duplicates in hobbies, foods, etc
duplicated(df[,c('dars_hobbies_01', 'dars_hobbies_02')]) 


```

```{r}

```

